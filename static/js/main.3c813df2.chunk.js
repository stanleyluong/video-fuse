(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{35:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(19),a=n.n(c),o=(n(35),n(6)),d=n(17),s=n.n(d),u=n(21),l=n(5),j=(n(37),n(24)),f=n(56),p=n(58),b=n(59),h=n(2),O=Object(f.a)((function(e){return{unqueued:{backgroundColor:"white",padding:e.spacing(1),margin:"auto",width:"90%",opacity:"50%"},queued:{backgroundColor:"black",padding:e.spacing(1),margin:"auto",width:"90%"},poster:{width:"100%",cursor:"pointer"}}}));function v(e){var t=e.video,n=e.handleAddVideo,i=e.handleRemoveVideo,r=e.isVideoQueued,c=O();return Object(h.jsx)(p.a,{item:!0,xs:1,children:Object(h.jsx)(b.a,{"data-testid":"poster",className:r?c.queued:c.unqueued,onClick:function(){!function(e){e.queued?i(e):n(e)}(t)},children:Object(h.jsx)("img",{className:c.poster,src:t.poster,alt:t.poster})})})}var g=Object(f.a)((function(e){return{grid:{rowGap:e.spacing(1),justifyContent:"space-around"}}}));function x(e){var t=g(),n=e.handleAddVideo,i=e.videos,r=e.playlist,c=function(e){var t,n=Object(j.a)(r);try{for(n.s();!(t=n.n()).done;){if(t.value.id===e.id)return!0}}catch(i){n.e(i)}finally{n.f()}return!1};return Object(h.jsx)(p.a,{className:t.grid,container:!0,children:i.map((function(e,t){return Object(h.jsx)(v,{isVideoQueued:c(e),video:e,handleAddVideo:n},t)}))})}function m(e){var t=e.playlist,n=e.indexOfVideoPlaying,r=e.setIndexOfVideoPlaying,c=Object(i.useState)(!1),a=Object(l.a)(c,2),o=a[0],d=a[1],s=Object(i.useRef)(null);Object(i.useEffect)((function(){t.length>=2&&(d(!0),s&&s.current&&s.current.play()),0===t.length&&d(!1)}),[t]);var u=t[n];return u?Object(h.jsx)("div",{children:t.length>0&&Object(h.jsx)("video",{width:"480",height:"360",src:u.source,autoPlay:o,muted:!0,onEnded:function(){var e=(n+1)%t.length;r(e)},ref:s,id:"foobar"},n)}):null}var y=Object(f.a)((function(e){return{transparent:{backgroundColor:"white",margin:"auto",width:"90%",opacity:"50%"},poster:{width:"100%",cursor:"pointer"}}}));function V(e){var t=e.video,n=e.handleRemoveVideo,i=e.isCurrentVideo,r=y();return Object(h.jsx)(p.a,{item:!0,xs:1,children:Object(h.jsx)(b.a,{className:i?"":r.transparent,onClick:function(){n(t)},children:Object(h.jsx)("img",{className:r.poster,src:t.poster,alt:"video poster"})})})}var w=Object(f.a)((function(e){return{grid:{rowGap:e.spacing(1),justifyContent:"center"}}}));function C(e){var t=w(),n=e.handleRemoveVideo,i=e.playlist,r=e.indexOfVideoPlaying;return Object(h.jsx)(p.a,{className:t.grid,container:!0,children:i&&i.map((function(e,t){return Object(h.jsx)(V,{video:e,handleRemoveVideo:n,isCurrentVideo:t===r},t)}))})}var k=function(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)([]),a=Object(l.a)(c,2),d=a[0],j=a[1],f=Object(i.useState)(0),p=Object(l.a)(f,2),b=p[0],O=p[1];return Object(i.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://video-fuse-api.herokuapp.com/videos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,8,r(n.slice(0,8));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(i.useEffect)((function(){O(0)}),[d]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Video Fuse"}),Object(h.jsx)("p",{children:"Click on videos to add to list"}),Object(h.jsx)(x,{videos:n,playlist:d,handleAddVideo:function(e){var t=[].concat(Object(o.a)(d),[e]);j(t)}}),Object(h.jsx)(m,{playlist:d,indexOfVideoPlaying:b,setIndexOfVideoPlaying:O}),Object(h.jsx)(C,{playlist:d,handleRemoveVideo:function(e){var t=d.findIndex((function(t){return e.id===t.id})),n=Object(o.a)(d);t>-1&&n.splice(t,1),j(n)},indexOfVideoPlaying:b})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),P()}},[[43,1,2]]]);
//# sourceMappingURL=main.3c813df2.chunk.js.map