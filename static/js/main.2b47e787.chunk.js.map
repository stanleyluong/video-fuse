{"version":3,"sources":["Components/Poster/Poster.js","Components/VideoList/VideosList.js","Components/VideoPlayer/VideoPlayer.js","Components/PlaylistPoster/PlaylistPoster.js","Components/Playlist/Playlist.js","Components/App/App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","unqueued","backgroundColor","padding","spacing","margin","width","opacity","queued","poster","cursor","Poster","props","video","handleAddVideo","handleRemoveVideo","isVideoQueued","classes","Grid","item","xs","Paper","className","onClick","handleClick","src","alt","grid","rowGap","justifyContent","VideosList","videos","playlist","isVideoInPlaylist","id","container","map","index","VideoPlayer","indexOfVideoPlaying","setIndexOfVideoPlaying","useState","shouldAutoPlay","setShouldAutoPlay","videoElement","useRef","useEffect","length","current","play","currentVideo","height","source","autoPlay","muted","onEnded","nextIndex","ref","transparent","PlaylistPoster","isCurrentVideo","Playlist","App","setVideos","setPlaylist","fetchVideos","a","fetch","response","json","slice","videoToAdd","nextPlaylist","videoToRemove","indexOfVideoToRemove","findIndex","splice","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2b47e787.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Grid} from \"@material-ui/core\";\n\nconst useStyles = makeStyles( (theme) => ({\n    unqueued: { \n        backgroundColor: 'white',\n        padding: theme.spacing(1),\n        margin:'auto',\n        width: '90%',\n        opacity: '50%'\n    },\n    queued: {\n        backgroundColor: 'black',\n        padding: theme.spacing(1),\n        margin: 'auto',\n        width: '90%'\n    },\n    poster: {\n        width: '100%',\n        cursor: 'pointer'\n    }\n}));\n\nexport default function Poster(props) {\n    const { video, handleAddVideo, handleRemoveVideo, isVideoQueued } = props;\n    const classes = useStyles();\n\n    const handleClick = (video) => {\n        video.queued ? handleRemoveVideo(video) : handleAddVideo(video);\n    };\n\n    return (\n        <Grid item xs={1}>\n                <Paper \n                    data-testid={'poster'}\n                    className={isVideoQueued ? classes.queued : classes.unqueued} \n                    onClick={()=>{handleClick(video)}}\n                >\n                        <img \n                            className={classes.poster} \n                            src={video.poster} \n                            alt={video.poster}\n                        />\n                </Paper>\n        </Grid>\n    );\n};","import { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Poster from \"../Poster/Poster\";\n\nconst useStyles = makeStyles( (theme) => ({\n    grid: {\n        rowGap: theme.spacing(1),\n        justifyContent: 'space-around'        \n    }\n}));\n\nexport default function VideosList(props) {\n\n    const classes = useStyles();\n    const { handleAddVideo, videos, playlist } = props;\n\n    const isVideoInPlaylist = (video) => {\n        for (const videoInPlaylist of playlist) {\n            if (videoInPlaylist.id === video.id) {\n                return true;\n            };\n        };\n        return false;\n    };\n\n    return (\n        <Grid className={classes.grid} container>\n            {videos.map( (video, index)=> {\n                return (\n                    <Poster\n                        isVideoQueued={isVideoInPlaylist(video)}\n                        key={index} \n                        video={video} \n                        handleAddVideo={handleAddVideo} \n                    />\n                );\n            })}\n        </Grid>\n    );\n};","import { useState, useEffect, useRef } from \"react\";\n\nexport default function VideoPlayer(props) {\n    const { playlist, indexOfVideoPlaying, setIndexOfVideoPlaying } = props;\n    const [shouldAutoPlay, setShouldAutoPlay] = useState(false);\n    const videoElement = useRef(null);\n\n    useEffect( () => {\n        if (playlist.length >= 2) {\n            setShouldAutoPlay(true);\n            if (videoElement && videoElement.current) {\n                videoElement.current.play();\n            };\n        };\n        if (playlist.length === 0) {\n            setShouldAutoPlay(false);\n        };\n    }, [playlist]);\n\n    const handleOnEnd = () => {\n        // increment index by 1, or reset back to 0 if at end of playlist\n        const nextIndex = (indexOfVideoPlaying + 1) % playlist.length;\n        setIndexOfVideoPlaying(nextIndex);\n    };\n\n    const currentVideo = playlist[indexOfVideoPlaying];\n\n    if (!currentVideo) {\n        return null;\n    };\n\n    return (\n        <div>\n            {playlist.length > 0 && \n                <video\n                    key={indexOfVideoPlaying}\n                    width=\"480\"\n                    height=\"360\"\n                    src={currentVideo.source}\n                    autoPlay={shouldAutoPlay}\n                    muted\n                    onEnded={handleOnEnd}\n                    ref={videoElement}\n                    id=\"foobar\"\n                />\n            }\n        </div>\n    );\n};","import { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Grid} from \"@material-ui/core\";\n\nconst useStyles = makeStyles( (theme) => ({\n    transparent: { \n        backgroundColor: 'white',\n        margin:'auto',\n        width: '90%',\n        opacity: '50%'\n    },\n    poster: {\n        width: '100%',\n        cursor: 'pointer'\n    }\n}));\n\nexport default function PlaylistPoster(props) {\n    const { video, handleRemoveVideo, isCurrentVideo } = props;\n    const classes = useStyles();\n\n    return (\n        <Grid item xs={1}>\n                <Paper \n                    className={isCurrentVideo ? \"\" : classes.transparent} \n                    onClick={()=>{handleRemoveVideo(video)}}>\n                        <img \n                            className={classes.poster} \n                            src={video.poster} \n                            alt={'video poster'}\n                        />\n                </Paper>\n        </Grid>\n    );\n}; ","import { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport PlaylistPoster from \"../PlaylistPoster/PlaylistPoster\";\n\nconst useStyles = makeStyles( (theme) => ({\n    grid: {\n        rowGap: theme.spacing(1),\n        justifyContent: 'center'\n    }\n}));\n\nexport default function Playlist(props) {\n    \n    const classes = useStyles();\n    const { handleRemoveVideo, playlist, indexOfVideoPlaying } = props;\n\n    return (\n        <Grid className={classes.grid} container>\n            {playlist && playlist.map( (video, index) => (\n                <PlaylistPoster \n                    key={index} \n                    video={video} \n                    handleRemoveVideo={handleRemoveVideo}\n                    isCurrentVideo={index === indexOfVideoPlaying}\n                />\n            ))}\n        </Grid>\n    );\n};","import { useEffect, useState } from 'react';\nimport './App.css';\nimport VideosList from '../VideoList/VideosList';\nimport VideoPlayer from '../VideoPlayer/VideoPlayer';\nimport Playlist from '../Playlist/Playlist';\n\nfunction App() {\n\n    const [videos, setVideos] = useState([]);\n    const [playlist, setPlaylist] = useState([]);\n    const [indexOfVideoPlaying, setIndexOfVideoPlaying] = useState(0);\n\n    useEffect( () => {\n        const fetchVideos = async () => {\n            const response = await fetch('http://localhost:3000/videos');\n            const videos = await response.json();\n            const numVideosToUse = 8;\n            setVideos(videos.slice(0, numVideosToUse));\n        }\n        fetchVideos();\n    },[]);\n\n    useEffect( () => {\n        setIndexOfVideoPlaying(0);\n    }, [playlist]);\n\n    const handleAddVideo = (videoToAdd) => {\n        const nextPlaylist = [...playlist, videoToAdd];\n        setPlaylist(nextPlaylist);\n    };\n\n    const handleRemoveVideo = (videoToRemove) => {\n        const indexOfVideoToRemove = playlist.findIndex( (video) => videoToRemove.id === video.id);\n        const nextPlaylist = [...playlist];\n\n        if (indexOfVideoToRemove > -1) {\n        nextPlaylist.splice(indexOfVideoToRemove, 1);\n        };\n\n        setPlaylist(nextPlaylist);\n    };\n\n    return (\n        <div className=\"App\">\n            <h1>Video Fuse</h1>\n            <p>Click on videos to add to list</p>\n            <VideosList \n                videos={videos} \n                playlist={playlist}\n                handleAddVideo={handleAddVideo} \n            />\n            <VideoPlayer \n                playlist={playlist} \n                indexOfVideoPlaying={indexOfVideoPlaying}\n                setIndexOfVideoPlaying={setIndexOfVideoPlaying}\n            />\n            <Playlist \n                playlist={playlist}\n                handleRemoveVideo={handleRemoveVideo}\n                indexOfVideoPlaying={indexOfVideoPlaying}\n            />\n        </div>\n    );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}